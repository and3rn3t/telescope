/*
 * JWST Deep Sky Explorer - Theme System
 *
 * This file implements our cosmic branding guidelines using GitHub Spark's theming system
 * and Radix UI's scientific color palette. Colors are mapped to cosmic concepts:
 * - Blue: Deep Space Violet (primary infrared theme)
 * - Violet: Nebula Orange (secondary warm accents)
 * - Slate: Neutral grays for cosmic backgrounds
 */

@import 'tailwindcss';

/* === COSMIC COLOR IMPORTS === */

/* Neutral Grays - Deep Space Backgrounds */
@import '@radix-ui/colors/slate.css' layer(base);
@import '@radix-ui/colors/slate-dark.css' layer(base);
@import '@radix-ui/colors/slate-alpha.css' layer(base);
@import '@radix-ui/colors/slate-dark-alpha.css' layer(base);

/* Primary: Deep Space Violet (Blue system maps to our cosmic violet) */
@import '@radix-ui/colors/blue.css' layer(base);
@import '@radix-ui/colors/blue-dark.css' layer(base);

/* Secondary: Nebula Orange (Violet system maps to our warm nebula) */
@import '@radix-ui/colors/violet.css' layer(base);
@import '@radix-ui/colors/violet-dark.css' layer(base);

/* Supporting Colors - Extended Cosmic Palette */
@import '@radix-ui/colors/indigo.css' layer(base);
@import '@radix-ui/colors/indigo-dark.css' layer(base);
@import '@radix-ui/colors/purple.css' layer(base);
@import '@radix-ui/colors/purple-dark.css' layer(base);
@import '@radix-ui/colors/cyan.css' layer(base);
@import '@radix-ui/colors/cyan-dark.css' layer(base);
@import '@radix-ui/colors/amber.css' layer(base);
@import '@radix-ui/colors/amber-dark.css' layer(base);

/* Status Colors */
@import '@radix-ui/colors/green.css' layer(base);
@import '@radix-ui/colors/green-dark.css' layer(base);
@import '@radix-ui/colors/yellow.css' layer(base);
@import '@radix-ui/colors/yellow-dark.css' layer(base);
@import '@radix-ui/colors/red.css' layer(base);
@import '@radix-ui/colors/red-dark.css' layer(base);

/* Additional Scientific Palette */
@import '@radix-ui/colors/teal.css' layer(base);
@import '@radix-ui/colors/teal-dark.css' layer(base);
@import '@radix-ui/colors/orange.css' layer(base);
@import '@radix-ui/colors/orange-dark.css' layer(base);
@import '@radix-ui/colors/gold.css' layer(base);
@import '@radix-ui/colors/gold-dark.css' layer(base);

@import 'tailwindcss/theme' layer(theme);

@import 'tailwindcss/preflight' layer(base);

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
}

@layer base {
  :root {
    /* === COSMIC DESIGN TOKEN SYSTEM === */

    /* Scaling Factors */
    --size-scale: 1;
    --radius-factor: 1;
    --motion-scale: 1;

    /* Cosmic Color Palette */
    --cosmic-deep-space-violet: oklch(0.35 0.15 290);
    --cosmic-black: oklch(0.145 0 0);
    --starlight-white: oklch(0.985 0 0);
    --nebula-orange: oklch(0.65 0.2 50);
    --cosmic-teal: oklch(0.55 0.12 200);
    --starlight-gold: oklch(0.75 0.15 85);

    /* Surface Colors */
    --cosmic-surface: oklch(0.205 0 0);
    --cosmic-elevated: oklch(0.245 0.01 286);
    --cosmic-overlay: oklch(0.12 0.02 290);

    /* Text Colors - Improved contrast */
    --cosmic-text-primary: oklch(0.985 0 0);
    --cosmic-text-secondary: oklch(0.778 0 0); /* Improved from 0.708 for better contrast */
    --cosmic-text-muted: oklch(0.558 0 0); /* Improved from 0.458 for better contrast */

    /* Border Colors */
    --cosmic-border: oklch(0.266 0.007 286);
    --cosmic-border-subtle: oklch(0.221 0.005 286);
    --cosmic-border-emphasis: oklch(0.318 0.012 286);

    /* Spacing Scale */
    --cosmic-space-1: calc(0.25rem * var(--size-scale));
    --cosmic-space-2: calc(0.5rem * var(--size-scale));
    --cosmic-space-3: calc(0.75rem * var(--size-scale));
    --cosmic-space-4: calc(1rem * var(--size-scale));
    --cosmic-space-6: calc(1.5rem * var(--size-scale));
    --cosmic-space-8: calc(2rem * var(--size-scale));
    --cosmic-space-12: calc(3rem * var(--size-scale));
    --cosmic-space-16: calc(4rem * var(--size-scale));

    /* Border Radius Scale */
    --cosmic-radius-sm: calc(2px * var(--radius-factor));
    --cosmic-radius-md: calc(6px * var(--radius-factor));
    --cosmic-radius-lg: calc(8px * var(--radius-factor));
    --cosmic-radius-xl: calc(12px * var(--radius-factor));
    --cosmic-radius-2xl: calc(16px * var(--radius-factor));
    --cosmic-radius-full: 9999px;

    /* Animation Timing */
    --cosmic-duration-fast: calc(150ms * var(--motion-scale));
    --cosmic-duration-medium: calc(300ms * var(--motion-scale));
    --cosmic-duration-slow: calc(500ms * var(--motion-scale));
    --cosmic-duration-slower: calc(750ms * var(--motion-scale));

    /* Animation Easing */
    --cosmic-ease-out: cubic-bezier(0.2, 0, 0.38, 0.9);
    --cosmic-ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
    --cosmic-ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
    --cosmic-ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);

    /* Typography Scale */
    --cosmic-font-weight-regular: 400;
    --cosmic-font-weight-medium: 500;
    --cosmic-font-weight-semibold: 600;
    --cosmic-font-weight-bold: 700;

    /* Letter Spacing */
    --cosmic-tracking-tight: -0.02em;
    --cosmic-tracking-normal: 0em;
    --cosmic-tracking-wide: 0.02em;

    /* Shadows & Effects */
    --cosmic-shadow-sm: 0 1px 2px 0 oklch(0.145 0 0 / 0.5);
    --cosmic-shadow-md:
      0 4px 6px -1px oklch(0.145 0 0 / 0.4), 0 2px 4px -1px oklch(0.145 0 0 / 0.3);
    --cosmic-shadow-lg:
      0 10px 15px -3px oklch(0.145 0 0 / 0.4), 0 4px 6px -2px oklch(0.145 0 0 / 0.3);
    --cosmic-shadow-glow: 0 0 20px oklch(0.35 0.15 290 / 0.3);

    /* Z-Index Scale */
    --cosmic-z-dropdown: 1000;
    --cosmic-z-sticky: 1020;
    --cosmic-z-fixed: 1030;
    --cosmic-z-modal-backdrop: 1040;
    --cosmic-z-modal: 1050;
    --cosmic-z-popover: 1060;
    --cosmic-z-tooltip: 1070;
  }

  #spark-app {
    /* Spark Framework Color Mappings */
    --tomato-contrast: #fff;
    --red-contrast: #fff;
    --ruby-contrast: #fff;
    --crimson-contrast: #fff;
    --pink-contrast: #fff;
    --plum-contrast: #fff;
    --purple-contrast: #fff;
    --violet-contrast: #fff;
    --iris-contrast: #fff;
    --indigo-contrast: #fff;
    --blue-contrast: #fff;
    --cyan-contrast: #fff;
    --teal-contrast: #fff;
    --jade-contrast: #fff;
    --green-contrast: #fff;
    --grass-contrast: #fff;
    --bronze-contrast: #fff;
    --gold-contrast: #fff;
    --brown-contrast: #fff;
    --orange-contrast: #fff;
    --amber-contrast: #000;
    --yellow-contrast: #000;
    --lime-contrast: #000;
    --mint-contrast: #000;
    --sky-contrast: #000;
    --gray-contrast: #fff;
    --mauve-contrast: #fff;
    --slate-contrast: #fff;
    --sage-contrast: #fff;
    --olive-contrast: #fff;
    --sand-contrast: #fff;

    /**
   * Spacing scale
   *
   * These variables define a spacing scale based on Tailwind's default.
   * We've introduced a --size-scale variable as a multiplier.
   * By adjusting this single value, we can proportionally
   * scale all spacing throughout the entire application.
   *
   * https://tailwindcss.com/docs/customizing-spacing#default-spacing-scale
   */
    --size-scale: 1;
    --size-0: 0px;
    --size-px: 1px;
    --size-0-5: calc(0.125rem * var(--size-scale));
    --size-1: calc(0.25rem * var(--size-scale));
    --size-1-5: calc(0.375rem * var(--size-scale));
    --size-2: calc(0.5rem * var(--size-scale));
    --size-2-5: calc(0.625rem * var(--size-scale));
    --size-3: calc(0.75rem * var(--size-scale));
    --size-3-5: calc(0.875rem * var(--size-scale));
    --size-4: calc(1rem * var(--size-scale));
    --size-5: calc(1.25rem * var(--size-scale));
    --size-6: calc(1.5rem * var(--size-scale));
    --size-7: calc(1.75rem * var(--size-scale));
    --size-8: calc(2rem * var(--size-scale));
    --size-9: calc(2.25rem * var(--size-scale));
    --size-10: calc(2.5rem * var(--size-scale));
    --size-11: calc(2.75rem * var(--size-scale));
    --size-12: calc(3rem * var(--size-scale));
    --size-14: calc(3.5rem * var(--size-scale));
    --size-16: calc(4rem * var(--size-scale));
    --size-20: calc(5rem * var(--size-scale));
    --size-24: calc(6rem * var(--size-scale));
    --size-28: calc(7rem * var(--size-scale));
    --size-32: calc(8rem * var(--size-scale));
    --size-36: calc(9rem * var(--size-scale));
    --size-40: calc(10rem * var(--size-scale));
    --size-44: calc(11rem * var(--size-scale));
    --size-48: calc(12rem * var(--size-scale));
    --size-52: calc(13rem * var(--size-scale));
    --size-56: calc(14rem * var(--size-scale));
    --size-60: calc(15rem * var(--size-scale));
    --size-64: calc(16rem * var(--size-scale));
    --size-72: calc(18rem * var(--size-scale));
    --size-80: calc(20rem * var(--size-scale));
    --size-96: calc(24rem * var(--size-scale));

    /* Border radii */
    --radius-factor: 1;
    --radius-sm: calc(2px * var(--radius-factor) * var(--size-scale));
    --radius-md: calc(6px * var(--radius-factor) * var(--size-scale));
    --radius-lg: calc(8px * var(--radius-factor) * var(--size-scale));
    --radius-xl: calc(12px * var(--radius-factor) * var(--size-scale));
    --radius-2xl: calc(16px * var(--radius-factor) * var(--size-scale));
    --radius-full: 9999px;

    /* Neutral colors */
    --color-neutral-1: var(--slate-1);
    --color-neutral-2: var(--slate-2);
    --color-neutral-3: var(--slate-3);
    --color-neutral-4: var(--slate-4);
    --color-neutral-5: var(--slate-5);
    --color-neutral-6: var(--slate-6);
    --color-neutral-7: var(--slate-7);
    --color-neutral-8: var(--slate-8);
    --color-neutral-9: var(--slate-9);
    --color-neutral-10: var(--slate-10);
    --color-neutral-11: var(--slate-11);
    --color-neutral-12: var(--slate-12);
    --color-neutral-a1: var(--slate-a1);
    --color-neutral-a2: var(--slate-a2);
    --color-neutral-a3: var(--slate-a3);
    --color-neutral-a4: var(--slate-a4);
    --color-neutral-a5: var(--slate-a5);
    --color-neutral-a6: var(--slate-a6);
    --color-neutral-a7: var(--slate-a7);
    --color-neutral-a8: var(--slate-a8);
    --color-neutral-a9: var(--slate-a9);
    --color-neutral-a10: var(--slate-a10);
    --color-neutral-a11: var(--slate-a11);
    --color-neutral-a12: var(--slate-a12);
    --color-neutral-contrast: var(--slate-contrast);

    /* Accent colors */
    --color-accent-1: var(--blue-1);
    --color-accent-2: var(--blue-2);
    --color-accent-3: var(--blue-3);
    --color-accent-4: var(--blue-4);
    --color-accent-5: var(--blue-5);
    --color-accent-6: var(--blue-6);
    --color-accent-7: var(--blue-7);
    --color-accent-8: var(--blue-8);
    --color-accent-9: var(--blue-9);
    --color-accent-10: var(--blue-10);
    --color-accent-11: var(--blue-11);
    --color-accent-12: var(--blue-12);
    --color-accent-contrast: var(--blue-contrast);

    /* Secondary accent colors */
    --color-accent-secondary-1: var(--violet-1);
    --color-accent-secondary-2: var(--violet-2);
    --color-accent-secondary-3: var(--violet-3);
    --color-accent-secondary-4: var(--violet-4);
    --color-accent-secondary-5: var(--violet-5);
    --color-accent-secondary-6: var(--violet-6);
    --color-accent-secondary-7: var(--violet-7);
    --color-accent-secondary-8: var(--violet-8);
    --color-accent-secondary-9: var(--violet-9);
    --color-accent-secondary-10: var(--violet-10);
    --color-accent-secondary-11: var(--violet-11);
    --color-accent-secondary-12: var(--violet-12);
    --color-accent-secondary-contrast: var(--violet-contrast);

    /* Foreground colors */
    --color-fg: var(--color-neutral-12);
    --color-fg-secondary: var(--color-neutral-a11);

    /* Background colors */
    --color-bg: #ffffff;
    --color-bg-inset: var(--color-neutral-2);
    --color-bg-overlay: #ffffff;

    /* Focus ring */
    --color-focus-ring: var(--color-accent-9);

    /* Fonts */
    --font-sans-serif:
      ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
      'Segoe UI Symbol', 'Noto Color Emoji';
    --font-serif: ui-serif, Georgia, Cambria, 'Times New Roman', Times, serif;
    --font-monospace:
      ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New',
      monospace;
    --font-family: var(--font-sans-serif);
  }

  #spark-app.dark-theme {
    --color-bg: var(--color-neutral-1);
    --color-bg-inset: #000000;
    --color-bg-overlay: var(--color-neutral-3);
  }
}

/* === COSMIC BRANDING UTILITIES === */

@layer components {
  /* Cosmic Card System */
  .cosmic-card {
    @apply rounded-lg border backdrop-blur-sm;
    background: var(--cosmic-surface);
    border-color: var(--cosmic-border-subtle);
    box-shadow: var(--cosmic-shadow-md);
    transition: all var(--cosmic-duration-medium) var(--cosmic-ease-out);
  }

  .cosmic-card:hover {
    border-color: var(--cosmic-border);
    transform: scale(1.02);
    box-shadow: var(--cosmic-shadow-lg), var(--cosmic-shadow-glow);
  }

  .cosmic-card-elevated {
    background: var(--cosmic-elevated);
  }

  /* Cosmic Typography */
  .cosmic-heading-xl {
    @apply text-3xl font-bold text-white;
    font-family: 'Inter', ui-sans-serif, system-ui, sans-serif;
    letter-spacing: var(--cosmic-tracking-tight);
    line-height: 1.1;
  }

  .cosmic-heading-lg {
    @apply text-2xl font-semibold text-white;
    font-family: 'Inter', ui-sans-serif, system-ui, sans-serif;
    letter-spacing: var(--cosmic-tracking-tight);
    line-height: 1.2;
  }

  .cosmic-heading-md {
    @apply text-xl font-medium text-white;
    font-family: 'Inter', ui-sans-serif, system-ui, sans-serif;
    line-height: 1.3;
  }

  .cosmic-body {
    @apply text-sm leading-relaxed;
    font-family: 'Inter', ui-sans-serif, system-ui, sans-serif;
    color: var(--cosmic-text-secondary);
  }

  .cosmic-body-improved {
    @apply text-sm leading-relaxed;
    font-family: 'Inter', ui-sans-serif, system-ui, sans-serif;
    /* Improved contrast for better readability */
    color: rgb(203, 213, 225); /* slate-300 for better contrast */
  }

  .cosmic-data {
    @apply font-mono font-bold;
    font-family:
      ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New',
      monospace;
    color: var(--cosmic-deep-space-violet);
  }

  .cosmic-caption {
    @apply text-xs;
    color: var(--cosmic-text-muted);
    letter-spacing: var(--cosmic-tracking-wide);
  }

  /* Cosmic Visual Effects */
  .cosmic-gradient-bg {
    background: linear-gradient(
      135deg,
      var(--cosmic-black) 0%,
      var(--cosmic-overlay) 50%,
      var(--cosmic-black) 100%
    );
  }

  /* Navigation Tabs */
  .cosmic-nav-tabs {
    @apply bg-slate-900/60 backdrop-blur-sm rounded-lg border border-violet-700/30;
    /* Enhanced background for better contrast */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }

  .cosmic-nav-tab {
    @apply relative
    transition-all duration-300 ease-out
    text-slate-200
    border-transparent
    hover:text-white
    hover:bg-violet-700/30
    data-[state=active]:text-white
    data-[state=active]:bg-violet-700/50
    data-[state=active]:border-yellow-400/40
    data-[state=active]:shadow-lg
    data-[state=active]:shadow-yellow-400/20;
    /* Improved contrast for better readability */
    font-weight: 500;
  }

  .cosmic-nav-tab::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    width: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, rgb(250, 204, 21), transparent);
    transform: translateX(-50%);
    transition: width 0.3s ease-out;
  }

  .cosmic-nav-tab[data-state='active']::after {
    width: 80%;
  }

  /* Hide scrollbars for better mobile UX */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Visual Effects & Animations */
  .cosmic-starfield {
    position: relative;
    overflow: hidden;
  }

  .cosmic-starfield::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image:
      radial-gradient(2px 2px at 20px 30px, #eee, transparent),
      radial-gradient(2px 2px at 40px 70px, rgba(255, 255, 255, 0.8), transparent),
      radial-gradient(1px 1px at 90px 40px, #fff, transparent),
      radial-gradient(1px 1px at 130px 80px, rgba(255, 255, 255, 0.6), transparent),
      radial-gradient(2px 2px at 160px 30px, #fff, transparent);
    background-repeat: repeat;
    background-size: 200px 100px;
    animation: twinkle 20s linear infinite;
    opacity: 0.6;
    pointer-events: none;
  }

  @keyframes twinkle {
    0%,
    100% {
      opacity: 0.6;
    }
    50% {
      opacity: 0.3;
    }
  }

  .cosmic-glow {
    position: relative;
    box-shadow:
      0 0 20px var(--cosmic-deep-space-violet),
      0 0 40px var(--cosmic-deep-space-violet),
      0 0 60px var(--cosmic-deep-space-violet);
  }

  .cosmic-glow::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(
      45deg,
      var(--starlight-gold),
      var(--nebula-pink),
      var(--stellar-blue)
    );
    border-radius: inherit;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .cosmic-glow:hover::before {
    opacity: 0.6;
  }

  .cosmic-header {
    border-color: var(--cosmic-border);
    background-color: var(--cosmic-surface);
  }

  .cosmic-logo {
    background-color: var(--cosmic-deep-space-violet);
  }

  .cosmic-text-glow {
    text-shadow:
      0 0 10px currentColor,
      0 0 20px currentColor,
      0 0 30px currentColor;
  }

  /* Cosmic Animations */
  .cosmic-float {
    animation: cosmicFloat 6s ease-in-out infinite;
  }

  .cosmic-pulse {
    animation: cosmicPulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  .cosmic-shimmer {
    background: linear-gradient(90deg, transparent, oklch(0.35 0.15 290 / 0.2), transparent);
    background-size: 200% 100%;
    animation: cosmicShimmer 2s infinite;
  }
}

/* === COSMIC KEYFRAME ANIMATIONS === */

@keyframes cosmicFloat {
  0%,
  100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes cosmicPulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes cosmicShimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* Additional Utility Classes */
.cosmic-accent {
  @apply bg-yellow-400 text-slate-900;
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  .cosmic-float,
  .cosmic-pulse,
  .cosmic-shimmer {
    animation: none;
  }
}
